

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>uap – Universal Analysis Pipeline &mdash; uap 0.1.1 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="uap 0.1.1 documentation" href="#"/>
        <link rel="next" title="How-To Use uap" href="how-to.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="#" class="fa fa-home"> uap</a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul>
<li class="toctree-l1"><a class="reference internal" href="how-to.html">How-To Use <strong>uap</strong></a><ul>
<li class="toctree-l2"><a class="reference internal" href="how-to.html#try-existing-configurations">Try Existing Configurations</a></li>
<li class="toctree-l2"><a class="reference internal" href="how-to.html#create-your-own-configuration">Create Your Own Configuration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation of <strong>uap</strong></a><ul>
<li class="toctree-l2"><a class="reference internal" href="installation.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#downloading-the-software">Downloading the Software</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#setting-up-python-environment">Setting Up Python Environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#making-uap-globally-available">Making <strong>uap</strong> Globally Available</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configuration File</a><ul>
<li class="toctree-l2"><a class="reference internal" href="configuration.html#sections-of-a-configuration-file">Sections of a Configuration File</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html#example-configurations">Example Configurations</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="interaction.html">Command-Line Usage of <strong>uap</strong></a><ul>
<li class="toctree-l2"><a class="reference internal" href="interaction.html#explanation-of-subcommands">Explanation of Subcommands</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="extension.html">Extending <strong>uap</strong> Functionality</a><ul>
<li class="toctree-l2"><a class="reference internal" href="extension.html#implement-new-steps">Implement new steps</a></li>
<li class="toctree-l2"><a class="reference internal" href="extension.html#add-the-new-step-to-your-configuration">Add the new step to your configuration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="software-design.html">Software Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="annotation.html">Annotation Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="steps.html">Available steps</a><ul>
<li class="toctree-l2"><a class="reference internal" href="steps.html#source-steps">Source steps</a></li>
<li class="toctree-l2"><a class="reference internal" href="steps.html#processing-steps">Processing steps</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Post-mortem pipeline analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="api.html#pipeline-specific-modules">Pipeline-specific modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#miscellaneous-modules">Miscellaneous modules</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="#">uap</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="#">Docs</a> &raquo;</li>
      
    <li>uap &#8211; Universal Analysis Pipeline</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="_sources/index.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="uap-robust-consistent-and-reproducible-data-analysis">
<h1>uap &#8211; Robust, Consistent, and Reproducible Data Analysis<a class="headerlink" href="#uap-robust-consistent-and-reproducible-data-analysis" title="Permalink to this headline">¶</a></h1>
<p><strong>What?</strong></p>
<blockquote>
<div><strong>uap</strong> executes, controls and keeps track of the analysis of large data sets.
It enables users to perform robust, consistent, and reprodcuible data analysis.
<strong>uap</strong> encapsulates the usage of (bioinformatic) tools and handles data flow
and processing during an analysis.
Users can either combine predefined analysis steps to create custom analysis or
they can extend <strong>uap</strong> with their own analysis steps.
Steps are best practice usages for the encapsulated commands.
<strong>uap</strong>&#8216;s  main focus is the analysis of high-throughput sequencing data.
But, as already mentioned, its plugin architecture allows users to add
functionality.
This would enable any kind of large data analysis.</div></blockquote>
<p><strong>How?</strong></p>
<blockquote>
<div><strong>uap</strong> is a command-line tool, implemented in Python, and runs under
GNU/Linux.
It takes a user-defined configuration file, which describes the analysis, as
input.
<strong>uap</strong> works on the analysis via subcommands.</div></blockquote>
<p><strong>Where?</strong></p>
<blockquote>
<div><strong>uap</strong> runs natively on Unix-like operating systems.
But, it does also support the cluster engines <a href="http://www.univa.com/products/" target="_blank">UGE</a>/OGE/SGE and
<a href="http://slurm.schedmd.com/" target="_blank">SLURM</a>.</div></blockquote>
<div class="section" id="important-information">
<h2>Important Information<a class="headerlink" href="#important-information" title="Permalink to this headline">¶</a></h2>
<p>The <strong>uap</strong> installation <strong>does not</strong> include all necessary tools for the data
analysis.
It expects that the required tools are <strong>already installed</strong>.</p>
<p>The recommended workflow to analyse data with <strong>uap</strong> is:</p>
<ol class="arabic simple">
<li>Install <strong>uap</strong> (see <a class="reference internal" href="installation.html"><em>Installation of uap</em></a>)</li>
<li>Optionally: Extend <strong>uap</strong> by adding new steps (see <a class="reference internal" href="extension.html"><em>Extending uap Functionality</em></a>)</li>
<li>Write a configuration file to setup the analysis (see
<a class="reference internal" href="configuration.html"><em>Configuration File</em></a>)</li>
<li>Start the analysis locally (see <a class="reference internal" href="interaction.html#uap-run-locally"><span>run-locally</span></a>) or
submit it to the cluster (see
<a class="reference internal" href="interaction.html#uap-submit-to-cluster"><span>submit-to-cluster</span></a>)</li>
<li>Follow the progress of the analysis (see <a class="reference internal" href="interaction.html#uap-status"><span>status</span></a>)</li>
<li>Share your extensions with others (send a pull request via github)</li>
</ol>
<p>A finished analysis leaves the user with:</p>
<ul class="simple">
<li><em>The original input files</em> (which are, of course, left untouched).</li>
<li><em>The experiment-specific configuration file</em>
(see <a class="reference internal" href="configuration.html"><em>Configuration File</em></a>).
You should keep this configuration file for later reference and you could
even make it publicly available along with your input files for anybody to
re-run the entire data analysis or parts thereof.</li>
<li><em>The output files and comprehensive annotations of the analysis</em>
(see <a class="reference internal" href="annotation.html"><em>Annotation Files</em></a>).
These files are stored in the destination path defined in the configuration
file.</li>
</ul>
</div>
<div class="section" id="core-aspects">
<h2>Core aspects<a class="headerlink" href="#core-aspects" title="Permalink to this headline">¶</a></h2>
<div class="section" id="robustness">
<h3>Robustness:<a class="headerlink" href="#robustness" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Data is processed in temporary location.
If and only if ALL involved processes exited graceful, the output files are
copied to the final output directory.</li>
<li>The final output directory names are suffixed with a hashtag which is based
on the commands executed to generate the output data.
Data is not easily overwritten and this helps to check for necessary
recomputations.</li>
<li>Processing can be aborted and continued from the command line at any time.
Failures during data processing do not lead to unstable state of analysis.</li>
<li>Errors are reported as early as possible, fail-fast.
Tools are checked for availability, and the entire processing pipeline is
calculated in advance before jobs are being started or submitted to a cluster.</li>
</ul>
</div>
<div class="section" id="consistency">
<h3>Consistency:<a class="headerlink" href="#consistency" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Steps and files are defined in a directed acyclic graph (DAG).
The DAG defines dependencies between in- and output files.</li>
<li>Prior to any execution the dependencies between files are calculated.
If a file is newer or an option for a calculation has changed all dependent
files are marked for recalculation.</li>
</ul>
</div>
<div class="section" id="reproducibility">
<h3>Reproducibility:<a class="headerlink" href="#reproducibility" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Comprehensive annotations are written to the output directories.
They allow for later investigation of errors or review of executed commands.
They contain also versions of used tool, required runtime, memory and CPU
usage, etc.</li>
</ul>
</div>
<div class="section" id="usability">
<h3>Usability:<a class="headerlink" href="#usability" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Single configuration file describdes entire processing pipeline.</li>
<li>Single command-line tool interacts with the pipeline.
It can be used to execute, monitor, and analyse the pipeline.</li>
</ul>
</div>
</div>
<div class="section" id="table-of-contents">
<h2>Table of contents<a class="headerlink" href="#table-of-contents" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="how-to.html">How-To Use <strong>uap</strong></a><ul>
<li class="toctree-l2"><a class="reference internal" href="how-to.html#try-existing-configurations">Try Existing Configurations</a></li>
<li class="toctree-l2"><a class="reference internal" href="how-to.html#create-your-own-configuration">Create Your Own Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="how-to.html#general-structure-of-sequencing-analysis">General Structure of Sequencing Analysis</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation of <strong>uap</strong></a><ul>
<li class="toctree-l2"><a class="reference internal" href="installation.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#downloading-the-software">Downloading the Software</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#setting-up-python-environment">Setting Up Python Environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#making-uap-globally-available">Making <strong>uap</strong> Globally Available</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configuration File</a><ul>
<li class="toctree-l2"><a class="reference internal" href="configuration.html#sections-of-a-configuration-file">Sections of a Configuration File</a><ul>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#destination-path-section">Destination_path Section</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#email-section">Email Section</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#steps-section">Steps Section</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#tools-section">Tools Section</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html#example-configurations">Example Configurations</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="interaction.html">Command-Line Usage of <strong>uap</strong></a><ul>
<li class="toctree-l2"><a class="reference internal" href="interaction.html#explanation-of-subcommands">Explanation of Subcommands</a><ul>
<li class="toctree-l3"><a class="reference internal" href="interaction.html#steps">steps</a></li>
<li class="toctree-l3"><a class="reference internal" href="interaction.html#status">status</a></li>
<li class="toctree-l3"><a class="reference internal" href="interaction.html#task-info">task-info</a></li>
<li class="toctree-l3"><a class="reference internal" href="interaction.html#run-locally">run-locally</a></li>
<li class="toctree-l3"><a class="reference internal" href="interaction.html#submit-to-cluster">submit-to-cluster</a></li>
<li class="toctree-l3"><a class="reference internal" href="interaction.html#fix-problems">fix-problems</a></li>
<li class="toctree-l3"><a class="reference internal" href="interaction.html#volatilize">volatilize</a></li>
<li class="toctree-l3"><a class="reference internal" href="interaction.html#render">render</a></li>
<li class="toctree-l3"><a class="reference internal" href="interaction.html#report">report</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="extension.html">Extending <strong>uap</strong> Functionality</a><ul>
<li class="toctree-l2"><a class="reference internal" href="extension.html#implement-new-steps">Implement new steps</a><ul>
<li class="toctree-l3"><a class="reference internal" href="extension.html#step-1-import-statements-and-logger">Step 1: Import Statements and Logger</a></li>
<li class="toctree-l3"><a class="reference internal" href="extension.html#step-2-class-definition-and-constructor">Step 2: Class Definition and Constructor</a></li>
<li class="toctree-l3"><a class="reference internal" href="extension.html#best-practices">Best practices</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="extension.html#add-the-new-step-to-your-configuration">Add the new step to your configuration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="software-design.html">Software Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="annotation.html">Annotation Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="steps.html">Available steps</a><ul>
<li class="toctree-l2"><a class="reference internal" href="steps.html#source-steps">Source steps</a><ul>
<li class="toctree-l3"><a class="reference internal" href="steps.html#bcl2fastq-source">bcl2fastq_source</a></li>
<li class="toctree-l3"><a class="reference internal" href="steps.html#fastq-source">fastq_source</a></li>
<li class="toctree-l3"><a class="reference internal" href="steps.html#fetch-chrom-sizes-source">fetch_chrom_sizes_source</a></li>
<li class="toctree-l3"><a class="reference internal" href="steps.html#raw-file-source">raw_file_source</a></li>
<li class="toctree-l3"><a class="reference internal" href="steps.html#raw-file-sources">raw_file_sources</a></li>
<li class="toctree-l3"><a class="reference internal" href="steps.html#raw-url-source">raw_url_source</a></li>
<li class="toctree-l3"><a class="reference internal" href="steps.html#run-folder-source">run_folder_source</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="steps.html#processing-steps">Processing steps</a><ul>
<li class="toctree-l3"><a class="reference internal" href="steps.html#bam-to-genome-browser">bam_to_genome_browser</a></li>
<li class="toctree-l3"><a class="reference internal" href="steps.html#bowtie2">bowtie2</a></li>
<li class="toctree-l3"><a class="reference internal" href="steps.html#bowtie2-generate-index">bowtie2_generate_index</a></li>
<li class="toctree-l3"><a class="reference internal" href="steps.html#bwa-backtrack">bwa_backtrack</a></li>
<li class="toctree-l3"><a class="reference internal" href="steps.html#bwa-generate-index">bwa_generate_index</a></li>
<li class="toctree-l3"><a class="reference internal" href="steps.html#bwa-mem">bwa_mem</a></li>
<li class="toctree-l3"><a class="reference internal" href="steps.html#chromhmm-binarizebam">chromhmm_binarizebam</a></li>
<li class="toctree-l3"><a class="reference internal" href="steps.html#cutadapt">cutadapt</a></li>
<li class="toctree-l3"><a class="reference internal" href="steps.html#fastqc">fastqc</a></li>
<li class="toctree-l3"><a class="reference internal" href="steps.html#fastx-quality-stats">fastx_quality_stats</a></li>
<li class="toctree-l3"><a class="reference internal" href="steps.html#fix-cutadapt">fix_cutadapt</a></li>
<li class="toctree-l3"><a class="reference internal" href="steps.html#htseq-count">htseq_count</a></li>
<li class="toctree-l3"><a class="reference internal" href="steps.html#macs2">macs2</a></li>
<li class="toctree-l3"><a class="reference internal" href="steps.html#merge-fasta-files">merge_fasta_files</a></li>
<li class="toctree-l3"><a class="reference internal" href="steps.html#merge-fastq-files">merge_fastq_files</a></li>
<li class="toctree-l3"><a class="reference internal" href="steps.html#narrowpeak-to-bed">narrowpeak_to_bed</a></li>
<li class="toctree-l3"><a class="reference internal" href="steps.html#picard-add-replace-read-groups">picard_add_replace_read_groups</a></li>
<li class="toctree-l3"><a class="reference internal" href="steps.html#picard-markduplicates">picard_markduplicates</a></li>
<li class="toctree-l3"><a class="reference internal" href="steps.html#picard-merge-sam-bam-files">picard_merge_sam_bam_files</a></li>
<li class="toctree-l3"><a class="reference internal" href="steps.html#preseq-complexity-curve">preseq_complexity_curve</a></li>
<li class="toctree-l3"><a class="reference internal" href="steps.html#preseq-future-genome-coverage">preseq_future_genome_coverage</a></li>
<li class="toctree-l3"><a class="reference internal" href="steps.html#preseq-future-yield">preseq_future_yield</a></li>
<li class="toctree-l3"><a class="reference internal" href="steps.html#remove-duplicate-reads-runs">remove_duplicate_reads_runs</a></li>
<li class="toctree-l3"><a class="reference internal" href="steps.html#rseqc">rseqc</a></li>
<li class="toctree-l3"><a class="reference internal" href="steps.html#sam-to-sorted-bam">sam_to_sorted_bam</a></li>
<li class="toctree-l3"><a class="reference internal" href="steps.html#samtools-faidx">samtools_faidx</a></li>
<li class="toctree-l3"><a class="reference internal" href="steps.html#samtools-index">samtools_index</a></li>
<li class="toctree-l3"><a class="reference internal" href="steps.html#samtools-stats">samtools_stats</a></li>
<li class="toctree-l3"><a class="reference internal" href="steps.html#segemehl">segemehl</a></li>
<li class="toctree-l3"><a class="reference internal" href="steps.html#segemehl-generate-index">segemehl_generate_index</a></li>
<li class="toctree-l3"><a class="reference internal" href="steps.html#tophat2">tophat2</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Post-mortem pipeline analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="api.html#pipeline-specific-modules">Pipeline-specific modules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="api.html#module-abstract_step">abstract_step</a></li>
<li class="toctree-l3"><a class="reference internal" href="api.html#module-pipeline">pipeline</a></li>
<li class="toctree-l3"><a class="reference internal" href="api.html#module-run">run</a></li>
<li class="toctree-l3"><a class="reference internal" href="api.html#module-task">task</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="api.html#miscellaneous-modules">Miscellaneous modules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="api.html#module-process_pool">process_pool</a></li>
<li class="toctree-l3"><a class="reference internal" href="api.html#module-fscache">fscache</a></li>
<li class="toctree-l3"><a class="reference internal" href="api.html#module-misc">misc</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="remarks">
<h2>Remarks<a class="headerlink" href="#remarks" title="Permalink to this headline">¶</a></h2>
<p>This documentation has been created using <a class="reference external" href="http://sphinx-doc.org/">Sphinx</a>
and <a class="reference external" href="http://docutils.sourceforge.net/rst.html">reStructuredText</a>.</p>
</div>
<div class="section" id="indices-and-tables">
<h2>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference internal" href="genindex.html"><span>Index</span></a></li>
<li><a class="reference internal" href="py-modindex.html"><span>Module Index</span></a></li>
<li><a class="reference internal" href="search.html"><span>Search Page</span></a></li>
</ul>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="how-to.html" class="btn btn-neutral float-right" title="How-To Use uap">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Christoph Kämpf, Michael Specht.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>